// var movies = [
//     {
//         id:'p1',
//         src: "https://bizweb.dktcdn.net/100/330/208/files/hinh-nen-kimetsu-yaiba-ngau-6-1.jpg?v%5Cu003d1649906743187",
//         alt: "Movie 1",
//         title: "Thanh gương diệt quỷ",
//         describe: "Thanh Gươm Diệt Quỷ - phần phim tại Phố Đèn Đỏ cuối cùng cũng đã kết thúc. Sau trận chiến khốc liệt, Tanjiro và Uzui đã thành công chặt đầu Gyutaro. Trong khi đó, Zenitsu và Inosuke hợp sức chặt đầu Daki cùng một lúc. Tuy nhiên, Gyutaro đã giải phóng Huyết thuật của mình và bao phủ khắp toàn bộ khu vực. Tanjiro tỉnh dậy và hội ngộ cùng Nezuko và Zenitsu, nhưng Inosuke và Uzui đang cận kề cái chết vì bị Gyutaro đầu độc.",
//         episodes: "Tập 24",
//         watchLink: "https://www.youtube.com/embed/Ypil56yin2M", // Liên kết xem phim 1
//         category: 'anime',
//         anotherName: "Kimetsu no YaibaLưỡi gươm diệt quỷDiệt quỷ cứu nhân",
//         countryOfManufacture: "japan",
//         yearOfRelease: '2019',
//         type: "Phiêu lưu - mạo hiểm - kịch tính",
//         author: 'Đặng vĂn Sinh',
//         actor:"sinh-loan-anh-quyền"
//       },
//         {
//         id:'p2',
//         src: "https://riki.edu.vn/wp-content/uploads/2019/10/14775-768x1121.jpg",
//         alt: "Movie 1",
//         title: "Lá thư gửi Momo (A letter to Momo)",
//         describe: "“Lá thư gửi Momo” được công chiếu và giới thiệu lần đầu tiên vào năm 2011. Khi vừa ra mắt, bộ phim này đã tạo nên một làn sóng mới với hiệu ứng người xem rất tốt và nhanh chóng đạt được nhiều giải thưởng. Bộ phim hội tụ đủ mọi yếu tố: hài hước, phiêu lưu, thần thoại. Vừa ý nghĩa vừa có tính nhân văn sâu sắc. Hãy xem để nhận ra cuộc sống đáng quý và cần được nâng niu ra sao. Xem để sống chậm lại, nghĩ khác đi và yêu thương nhiều hơn…",
//         episodes: "Tập 1",
//         watchLink: "https://www.youtube.com/embed/SA3j3ev8dqE", // Liên kết xem phim 1
//         category: 'anime',
//         countryOfManufacture: "japan",
//         yearOfRelease: '2010',
//         type: "Phiêu lưu",
//         author: 'Đặng vĂn Sinh',
//         actor:"sinh-loan-anh-quyền"
//         },
//         {
        
//         id:'p3',
//         src: "https://th.bing.com/th/id/R.9082926e4c15ed8eb3d132d7b8d0d58b?rik=4djG0dLea0wG2A&pid=ImgRaw&r=0",
//         alt: "Movie 1",
//         title: "conan(Thám tử lừng danh)",
//         describe: " Thám Tử Lừng Danh Conan được mua bản quyền và được cập nhật phát sóng mới nhất trên ứng dụng giải trí POPS. Đây là bộ phim hoạt hình chuyển thể từ truyện tranh hấp dẫn nhất: Thám Tử Lừng Danh Conan của tác giả Aoyama Gosho. Phim Conan kể về thần đồng 17 tuổi Shinichi Kudo - còn được biết đến với biệt danh “Cứu tinh của Sở Cảnh sát Nhật Bản” - người thường xuyên giúp lực lượng cảnh sát giải quyết các vụ án phức tạp.",
//         episodes: "Tập 1",
//         watchLink: "https://www.youtube.com/embed/CL_SiaJsm9Q", // Liên kết xem phim 1
//         category: 'anime',
//         countryOfManufacture: "japan",
//         yearOfRelease: '2000',
//         type: "Trinh thám",
//         author: 'Đặng vĂn Sinh',
//         actor:"sinh-loan-anh-quyền"
//         },{

//         id:'p4',
//         src: "https://i.ytimg.com/vi/IkaP0KJWTsQ/maxresdefault.jpg",
//         alt: "Movie 4",
//         title: "Nhà bà nữ ",
//         describe: "Nhà bà nữ  -Chuyện phim xoay quanh gia đình bà Nữ, chuyên bán bánh canh ở một khu chung cư cũ. Bà Nữ bị chồng bỏ, một mình nuôi hai cô con gái và mẹ già. Các mối quan hệ trong gia đình bà Nữ có thể coi là độc hại, với sự độc đoán, khắt khe và gay gắt của bà Nữ bao trùm lên mọi thành viên.",
//         episodes: "Full tập",
//         watchLink: "https://www.youtube.com/embed/IkaP0KJWTsQ", // Liên kết xem phim 4
//         category: 'Phim bộ',
//         anotherName: "Trấn Thành - Lê Giang - Song Luân",
//         countryOfManufacture: "Viet Nam",
//         yearOfRelease: '2023',
//         type: "Điện ảnh - gia đình",
//         author: 'Trấn Thành',
//         actor:"sinh-loan-anh-quyền"
//       },
      
//       {

//         id:'p5',
//         src: "https://i.ytimg.com/vi/Ku0ay2SpGgk/maxresdefault.jpg",
//         alt: "Movie 5",
//         title: "Siêu nhân Gao và siêu nhân Cuồng Phong ",
//         describe: "Siêu nhân Gao và siêu nhân Cuồng Phong -Em trai Chuzubo tên là Chubozu-một trọng bảy khẩu súng bóng tối đã bắt cóc và lấy được điện thoại siêu nhân của siêu nhân Gaoranger nhờ sự giúp sức của Tsue Tsue và Jabaiba -tàn quân của Orugu. Gaoranger bị yểm bùa và bị trói trong một hang động.Họ cố gắng giải thoát Gao Trắng và để cô đi tìm Hurricanger cầu viện. Bất ngờ là bảy khẩu súng bóng tối của Jakanja lại biến hình thành các Gaoranger giả tấn công Hurricanger. Gao Trắng xuất hiện và giải thích mọi chuyện khi mà Gao Vua đánh bại Oanh Lôi Thần và Tuyền Phong Thần. Hurricaneger đi cứu Gaoranger. Ikkou và Isshu cùng Thủ Lý Kiếm Giả cản bọn Jakanja còn nhóm Yousuke đi theo Gao Trắng. Koutan và Yousuke hóa giải lá bùa Chubozu phong ấn, các Gaoranger thoát ra và chiến đấu. Nhưng mọi chuyện chỉ được giải quyết khi Gao Bạc theo tiếng gọi của ngọn gió xuất hiện.",
//         episodes: "Tập đặc biệt",
//         watchLink: "https://www.youtube.com/embed/Ku0ay2SpGgk", // Liên kết xem phim 4
//         category: 'anime',
//         anotherName: "Shishi Kakeru,Washio Gaku",
//         countryOfManufacture: "Nhật Bản",
//         yearOfRelease: '2017',
//         type: "tokusasku",
//         author: 'Ishiro Honda',
//         actor:"sinh-loan-anh-quyền"
//     },
//       {

//       id:'p6',
//       src: "https://i.ytimg.com/vi/MNm77lvTfi4/maxresdefault.jpg",
//       alt: "Movie 6",
//       title: "Mắc biếc",
//       describe: "Mắc biếc  -  Mắt biếc xoay quanh mối tình đơn phương của Ngạn với Hà Lan, cô bạn gái có cặp mắt hút hồn nhưng cá tính bướng bỉnh. Một chuyện tình nhiều cung bậc, từ ngộ nghĩnh trẻ con, rồi tình yêu thuở học trò trong sáng, trải qua bao biến cố, trở thành một cuộc đuổi hình bắt bóng buồn da diết nhưng không nguôi hi vọng. Câu chuyện càng trở nên éo le hơn khi Trà Long - con gái của Hà Lan lớn lên lại nhen nhóm một tình yêu như thế với Ngạn.",
//       episodes: "Trailler",
//       watchLink: "https://www.youtube.com/embed/ITlQ0oU7tDA", // Liên kết xem phim 6
//       category: 'Phim bộ',
//       anotherName: "Trần Nghĩa,Trúc Anh",
//       countryOfManufacture: "Việt Nam",
//       yearOfRelease: '2019',
//       type: "Tình cảm",
//       author: 'Nguyễn Nhật Ánh',
//       actor:"Victor Vũ"
//     },
//     {

//       id:'p7',
//       src: "https://i.ytimg.com/vi/Nc70Bm_fMY8/maxresdefault.jpg",
//       alt: "Movie 7",
//       title: "LaLa School",
//       describe: "LaLa School - Những màn trình diễn đặc sắc , quán quân La La Idol đã xuất hiện và toàn bộ bí mật về Tuệ Nghi cũng đã phơi bày trong tập cuối này. ",
//       episodes: "Tập cuối",
//       watchLink: "https://www.youtube.com/embed/Nc70Bm_fMY8", // Liên kết xem phim 7
//       category: 'Phim bộ',
//       anotherName: "Lê Chị, Nhi Kati, Khánh Vũ",
//       countryOfManufacture: "Việt Nam",
//       yearOfRelease: '2017',
//       type: "Học đường, tình cảm",
//       author: 'sinh-loan-anh-quyềnt',
//       actor:"sinh-loan-anh-quyền"
//     },
//     {

//       id:'p8',
//       src: "https://i.ytimg.com/vi/sabo5rjm1-Y/maxresdefault.jpg",
//       alt: "Movie 8",
//       title: "Thần điêu đại hiệp",
//       describe:"Thần điêu đại hiệp - Nội dung chính của phim xoay quanh câu chuyện tình yêu của hai nhân vật chính là Dương Quá và Tiểu Long Nữ giữa những cuộc chiến tang thương đẫm máu cả trên giang hồ lẫn chiến trường. .",
//       episodes: "Tập 1",
//       watchLink: "https://www.youtube.com/embed/sabo5rjm1-Y", // Liên kết xem phim 8
//       category: 'Phim bộ',
//       anotherName: "Huỳnh Hiểu Minh, Lưu Diệc Phi",
//       countryOfManufacture: "Trung Quốc",
//       yearOfRelease: '2006',
//       type: "Võ hiệp",
//       author: 'Kim Dung',
//       actor:"Vu Mẫn"
//         },
//     { 
//         id:'p9', 
//         src: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQv_l4_R55fgiFSx8T0TrqjTjSfkZxrzSWZcQ&usqp=CAU ", 
//         alt: "Movie 9", 
//         title: "Vết sẹo", 
//         describe: " Thám tử lừng danh Conan xoay quanh câu chuyện về chàng thám tử Kudo Shinichi, trong một lần đang điều tra đã bị Tổ chức Áo Đen ép uống thuốc độc, khiến cho cơ thể bị teo nhỏ. Sau đó, Shinichi chuyển đến sống ở nhà của người bạn thuở niên thiếu Ran Mori cùng người bố Kogoro Mori. Tại đây, cậu dùng văn phòng thám tử của ông Kogoro để truy tìm tung tích của tổ chức Áo Đen đồng thời giúp ông phá nhiều vụ án dưới một thân phận mới là Conan Edogawa. ",
//         episodes: "Tập 24",
//         watchLink: "https://youtu.be/mB6fA148HV0?si=CKmhIgWztD1rD-AJ", // Liên kết xem phim 9 
//         category: 'anime',
//         anotherName: "Kudo Shinichi ",
//         countryOfManufacture: "japan",
//         yearOfRelease: '2019',
//         type: "Phiêu lưu - mạo hiểm - kịch tính",
//         author: "Gosho Aoyama", 
//         actor: "sinh-loan-anh-quyền" ,
//     },
//     {
//         display: false,
//         id:'p10',
//         src:" https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTyhQ0gDlp6FuTB23Ib9HfYBVqODykeJllocA&usqp=CAU ",
//         alt: "Movie 10",
//         title: "Những nàng công chúa tài năng",
//         describe: " Thám tử lừng danh Conan xoay quanh câu chuyện về chàng thám tử Kudo Shinichi, trong một lần đang điều tra đã bị Tổ chức Áo Đen ép uống thuốc độc, khiến cho cơ thể bị teo nhỏ. Sau đó, Shinichi chuyển đến sống ở nhà của người bạn thuở niên thiếu Ran Mori cùng người bố Kogoro Mori. Tại đây, cậu dùng văn phòng thám tử của ông Kogoro để truy tìm tung tích của tổ chức Áo Đen đồng thời giúp ông phá nhiều vụ án dưới một thân phận mới là Conan Edogawa.  ",
//         episodes: "Full tập",
//         watchLink: " https://youtu.be/LFME4PqCink?si=k-BUURqOzKyvvY5n", // Liên kết xem phim 10
//         category: 'anime',
//         anotherName: " Kudo Shinichi ",
//         countryOfManufacture: "japan",
//         yearOfRelease: '2019',
//         type: "Phiêu lưu - mạo hiểm - kịch tính",
//         author: "Gosho Aoyama",
//         actor:"sinh-loan-anh-quyền",
//     },
//     {

//         id:'p11',
//         src:" https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQQ3VOe3j8AFNl9PKAhScnGYO91Xm7ZP9O_axlIP6xtFneiE4q6T8a6JVhZ4w7si5p605M&usqp=CAU ",
//         alt: "Movie 11",
//         title: "Yêu con người là điều cấm kỵ của ma cà rồng",
//         describe: " Chạng Vạng - Twilight - Hừng Đông - bộ phim kể về một cô gái vừa chuyển nhà đến học ở một ngôi trường mới.Nơi đây tất cả nam sinh đều ngã ngục trước sắc đẹp của cô.Trong đó cô lại để ý đến anh chàng có vẻ ngoài lạnh lùng và nước da trắng bệch.Thật ra anh chàng đó là một con ma cà rồng anh ta cũng rất thích cô gái kia nhưng vì thân phận đặc biệt của mình nên anh tỏ ra né tránh.Còn cô gái thì ngày càng cố tìm hiểu về anh cho đến khi biết được thân phận thật sự của anh ta thì rất bất ngờ và mọi sự nguy hiểm đang rình rập cô ta mọi lúc. Chạng Vạng - Twilight là ấn phẩm hay nhất mọi thời đại được mọi người hết lời khen ngợi.Mọi người không nên bỏ qua bộ phim này.", 
//         episodes: "Tập 24",
//         watchLink: " https://www.youtube.com/embed/qvpFjBCKs8I", // Liên kết xem phim 11
//         category: 'action',
//         anotherName: "ma cà rồng ", 
//         countryOfManufacture: "Mỹ",
//         yearOfRelease: '2019',
//         type: "Phiêu lưu - mạo hiểm - kịch tính",
//         author: 'Trương Thế Hoài', 
//         actor: "sinh-loan-anh-quyền"
//     },
//     {
//         display: false,
//         id:'p12',
//         src:" https://i.ytimg.com/vi/wtJAZvcaIAc/hqdefault.jpg ",
//         alt: "Movie 12",
//         title: "Cậu bé triệu hồi ác quỷ từ địa ngục về để trả thù đám bắt nạt",
//         describe: " The Terror of Hallow's Eve là bộ phim kinh dị chiếu rạp vào dịp lễ Halloween cách đây 6 năm trước. Theo chân Timmy, một cậu bé thích những mẫu chuyện kinh dị cùng những trò đùa tinh quái. Vào 1 hôm Timmy bị đám bắt nạt trong thị trấn đánh đập, cậu bé trong lúc tức giận, đã vô tình triệu hồi 1 con quỷ đáng sợ từ địa ngục, nhằm giúp mình trả thù những kẻ bắt nạt...",
//         episodes: "full tập",
//         watchLink: "https://www.youtube.com/embed/wtJAZvcaIAc”,// Liên kết xem phim 12",
//         category: 'action',
//         anotherName: "Đêm Halloween kinh hoàng: ",
//         countryOfManufacture: "Mỹ",
//         yearOfRelease: '2019',
//         type: " mạo hiểm ",
//         author: 'OkiTo Saha',
//         actor:"sinh-loan-anh-quyền"
//     },
//     {
//         id:'p13', 
//         src:" https://cdn.tuoitre.vn/thumb_w/640/2022/12/1/wednesday-166986593470149771730.jpg ", 
//         alt: "Movie 2",
//         title: "Wednesday", 
//         describe:"School Tales The Series là bộ phim kinh dị dài 8 tập của Thái, được ra mắt trên nền tảng Netflix. Mỗi tập phim sẽ là 1 câu chuyện kinh dị khác nhau, nhưng đều có điểm chung là sẽ khiến bạn sởn gai óc khi xem..",
//         episodes: "Tập 24", 
//         watchLink: "https://www.youtube.com/embed/wJQBaDSbZPE", // Liên kết xem phim 13
//         category: 'action', 
//         anotherName: "Wednesday: ", 
//         countryOfManufacture: "Mỹ",
//         yearOfRelease: '2019',
//         type: "Phiêu lưu - mạo hiểm ", 
//         author: 'Miyuki',
//         actor: "sinh-loan-anh-quyền"
//     },
//     {
//         display: false,
//         id:'p14',
//         src:" https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQiVrgztoU1lkR9eF3gYp_RrM0DAVtiUOhS7w&usqp=CAU ", 
//         alt: "Movie 2", 
//         title: "Bạn trai tôi là Hồ Ly(Phần 2) ",
//         describe:" Trong phim nếu xem qua có thể thấy anh ấy là một quái vật rắn trong hình dạng con người, kẻ thù của Lee Yeon. Nhiều thế kỷ trước, anh ta được sinh ra trong một hang động nơi mọi người đang chết vì bệnh dịch. Anh ta lấy xác của Vua, cha của Ah-eum, làm vật chủ. Để cứu cha mình, Ah-eum đã cho phép Imoogi trú ngụ trong cơ thể cô để anh gặp Yeon. Anh ta đã bị giết bởi Yeon khi ở trong Ah-eum",
//         episodes: "Tập 24", 
//         watchLink: "https://www.youtube.com/embed/99SVEpFJ2Eo", // Liên kết xem phim 14
//         category: 'action ',
//         anotherName: "Bạn trai tôi là Hồ ly ", 
//         countryOfManufacture: "Hàn Quốc",
//         yearOfRelease: '2019', 
//         type: " kịch tính",
//         author: 'Phan Quân',
//         actor:"sinh-loan-anh-quyền" }
// ]


let apiMovies = 'https://65180651582f58d62d355368.mockapi.io/Movies';
let apiMainStorage = 'https://65180651582f58d62d355368.mockapi.io/MainStorage';



// ASSIGN THE FETCHED LIST TO A VARIABLE AND CONSOLE LOG
async function start(api) {
  try {
    dataList = await getData(api); // Gán dữ liệu từ API vào biến dataList
    console.log(dataList)
    return dataList;
  }
  catch (error) {
    alert('Server đang bị quá tải. Vui lòng thử lại sau');
  }
}



//FETCH DATA
async function getData(api) {
  try {
    const response = await fetch(api);
    const data = await response.json();
    return data; // Return data after fetched and convert to js
  }
  catch (error) {
    throw error;
  }
}



// FUNCTION CREATE AND POST A DATA
async function createData(data,api) {
  try {
    const response = await fetch(api, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(data),
    });
    if (response) {
      const dataAdded = await response.json();
      console.log('Data added:', dataAdded);
    } else {
      console.error('Failed to add data:', response.statusText);
    }
  } catch (error) {
    console.error('Error:', error);
  }
}



// FUNCTION CREATE AND POST DATAS
async function postData(data,api) {
  for (const element of data) {
      await createData(element,api);
    }
}



//FUNCTION MODIFY A DATA
async function modifyData(data,api){
  try {
    const response = await fetch(api, {
      method: 'PATCH',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(data),
    });
  } catch (error) {
    console.error('Error:', error);
  }
}



// RUNNING FUNCTIONS
start(apiMainStorage)
start(apiMovies)






